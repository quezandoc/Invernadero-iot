---
import { initializeApp } from "firebase/app";
import { getFirestore, collection, getDocs } from "firebase/firestore";

// Tu configuraci贸n de Firebase
const firebaseConfig = {
  apiKey: "AIzaSyB-nP0BV0qwgK4tE_dMi2W2cihn8Z7rldQ",
  authDomain: "proyectoinvernadero-14daf.firebaseapp.com",
  databaseURL: "https://proyectoinvernadero-14daf-default-rtdb.firebaseio.com",
  projectId: "proyectoinvernadero-14daf",
  storageBucket: "proyectoinvernadero-14daf.appspot.com",
  messagingSenderId: "690797436592",
  appId: "1:690797436592:web:42a62d8fc5e37a2d062575",
  measurementId: "G-F8XJD7YVV6"
};

// Inicializa Firebase
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);


// Obtener datos de la colecci贸n "Lechuga"
const getLechugaData = async () => {
  const lechugaRef = collection(db, 'Lechuga');
  const lechugaSnapshot = await getDocs(lechugaRef);
  
  lechugaSnapshot.forEach(doc => {
    const data = doc.data(); // Obtener los datos del documento
    console.log(data); // Imprimir solo los datos del documento
  });
};

// Llamar a la funci贸n para obtener y mostrar los datos de la colecci贸n "Lechuga"
console.log("get lechuga");
getLechugaData();


const {
  number = '+53',
  title = 'New messages',
  type = 'success'
} = Astro.props

---

<div class="dashboard-widget radius-large space-24 elevation-400 space-content type-${type}">
  <p class="size-48">
    <strong>{number}</strong>
  </p>
  <p class="size-20">
    <em>{title}</em>
  </p>
</div>

<style lang="scss">
  .dashboard-widget {
    &.type-success {
      > p:first-child {
        color: var(--success-700);
      }
    }

    &.type-error {
      > p:first-child {
        color: var(--error-700);
      }
    }

    background-color: var(--neutral-100);
  }

  :global(.darkmode .dashboard-widget) {
    background-color: var(--neutral-900);

    &.type-success {
      > p:first-child {
        color: var(--success-400);
      }
    }

    &.type-error {
      > p:first-child {
        color: var(--error-400);
      }
    }
  }
</style>
